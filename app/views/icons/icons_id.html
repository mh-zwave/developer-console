<!-- Icon ID  -->
<div ng-controller="IconIdController">
    <bb-loader></bb-loader>
    <div ng-if="icon.input.id > 0"> 
        <h2>Icons: {{icon.input.title}}</h2>
        <form name="form_icon" id="form_icon" class="form form-page" ng-submit="updateIcon(form_icon)" novalidate>

            <fieldset>
                <!-- title -->
                <div class="form-group form-inline">
                    <input type="checkbox" name="expert_view" 
                           ng-model="icon.input.active"
                           ng-true-value="1"
                           ng-false-value="0"
                           ng-checked="icon.input.active === 1" />
                    <label ng-bind="_t('Active')"></label>
                </div>
                <!-- title -->
                <div class="form-group">
                    <label class="isrequired" for="title">{{_t('Title')}}</label>
                    <input name="title" id="title" type="text" class="form-control" value="{{icon.input.title}}" ng-model="icon.input.title" required />
                    <div class="valid-error text-danger" ng-show="(form_icon.title.$dirty && form_icon.title.$invalid) || (submitted && form_icon.title.$error.required)">
                        <i class="fa fa-exclamation-triangle"></i> Title is required.
                    </div>
                </div>

                <!-- maturity, version
                <div class="form-group form-inline">
                    <label class="isrequired" for="ui_version">{{_t('UI version')}}</label>
                    <select name="ui_version" id="ui_version" class="form-control" ng-model="icon.input.ui_version" ng-required="true">
                        <option value="">--- Select one ---</option>
                        <option ng-repeat="v in cfg.ui_version" ng-selected="icon.input.ui_version == v" value="{{v}}">{{v}}</option>
                    </select>
                    <label class="isrequired" for="version">{{_t('Version')}}</label>
                    <input name="version" id="version" type="text" class="form-control" value="{{icon.input.version}}" ng-model="icon.input.version" ng-required="true" />
                    <div class="valid-error text-danger" ng-show="(form_icon.ui_version.$dirty && form_icon.ui_version.$invalid) || (submitted && form_icon.ui_version.$error.required)">
                        <i class="fa fa-exclamation-triangle"></i> UI Version is required.
                    </div>
                    <div class="valid-error text-danger" ng-show="(form_icon.version.$dirty && form_icon.version.$invalid) || (submitted && form_icon.version.$error.required)">
                        <i class="fa fa-exclamation-triangle"></i> Version is required.
                    </div>
                </div>-->

            </fieldset>
            <fieldset>
                <!-- Upload icon -->
                <h2><span ng-bind="_t('Update icons')"></span></h2>
                <p class="form-control-static">File name: {{icon.input.file}} </p>
                <input class="form-control" type="file" name="file" onchange="angular.element(this).scope().uploadIcon(this.files)"/>
            </fieldset>
            <fieldset>
                <!-- Upload icon image -->
                <h2><span ng-bind="_t('Upload screenshot')"></span></h2>
                <input class="form-control" type="file" name="file" onchange="angular.element(this).scope().uploadIconImg(this.files)"/>
                <img class="product-img" ng-src="{{cfg.img.icon + icon.input.icon}}" alt="img" ng-if="icon.input.icon" />
            </fieldset>
            <fieldset>
                <!-- description
               <div class="form-group">
                   <label for="description">{{_t('Description')}}</label>
                   <textarea name="description" id="description" class="form-control" ng-model="icon.input.description">{{icon.input.description}}</textarea>
               </div> -->
                <label for="license">{{_t('License')}}</label>
                <input name="license" id="license" type="text" class="form-control" value="{{icon.input.license}}" ng-model="icon.input.license" />
            </fieldset>
            <fieldset>
                <!-- author -->
                <div class="form-group">
                    <label for="author">{{_t('Author')}}</label>
                    <input name="author" id="author" type="text" class="form-control" value="{{icon.input.author}}" ng-model="icon.input.author" />
                </div>
                <!-- homepage -->
                <div class="form-group">
                    <label for="homepage">{{_t('Homepage')}}</label>
                    <input name="homepage" id="homepage" type="text" class="form-control" value="{{icon.input.homepage}}" ng-model="icon.input.homepage" />
                </div>

            </fieldset>
            <fieldset>
                <div class="accordion-entry">
                    <h2 class="accordion-entry-title" ng-click="expandElement('backup')">
                        <i class="fa accordion-arrow" ng-class="expand.backup ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
                        <span ng-bind="_t('Icon previews')"></span>
                    </h2>
                    <div class="accordion-entry-ctrl" ng-if="expand.backup">
                         <img class="report-img" title="{{v}}" alt="{{v}}" ng-src="{{cfg.img.icon + icon.input.name + '/' + v}}" ng-repeat="v in icon.preview" /> 
                    </div>
                </div>

            </fieldset>

            <fieldset class="submit-entry">
                <button type="button" class="btn btn-default" bb-go-back><i class="fa fa-times  text-danger"></i> <span ng-bind="_t('lb_cancel')"></span></button>
                <button type="submit" class="btn btn-submit" ng-click="submitted = true"><i class="fa fa-check"></i> <span ng-bind="_t('Update')"></span></button>
            </fieldset>
        </form>
    </div>
</div>